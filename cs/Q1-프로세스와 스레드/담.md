# 프로세스와 스레드

```
프로세스는 프로그램을 실행하는 순간 생성되고, 스레드는 프로세스가 원활히 진행될 수 있도록 실행하는 흐름을 말한다.
```

## 프로세스(Process)

실행중인 프로그램 === 프로세스
<br/>프로그램은 보조기억장치(하드디스크, SSD)에 있는 명령어와 정적 데이터의 묶음인데, 이를 메모리에 적재하여 실행시키는 순간 프로세스로 바뀐다. 
<br/>프로세스는 컴퓨터 시스템의 작업 단위로 Task라고도 부른다.

#### 프로세스 제어 블록(PCB,Process Control Block)
프로세스를 실행하기 위해 CPU 자원이 필요한데 이 자원은 한정적이어서 하나의 프로세스가 독점할 수 없다. CPU는 시간 제한이 정해져 있고 현재 작업중인 프로세스의 타이머 인터럽트가 발생할 경우 그동안 CPU 자원을 점유한 프로세스는 그동안 작업한 내용을 백업하고 다른 프로세스에게 자리를 양보해야하는데 이때 정보를 저장하는 자료구조를 PCB라고 한다.
프로세스의 중요한 정보를 저장하는 운영체제의 자료 구조
프로세스 제어블록은 프로세스 생성 시 만들어져서 프로세스가 실행을 완료하면 폐기된다.

* PID(Process IDentification)
<br/>운영체제가 각 프로세스를 식별하기 위해 부여한 프로세스 식별번호

* Process State
<br/>CPU가 프로세스 교체를 빠르게 실행하기 위해 저장한 프로세스 상태 <br/>new(생성), ready(준비), running(실행), waiting(대기), terminated(종료)

* Process Counter
<br/>CPU가 다음으로 실행할 명령어를 가리키는 값
<br/>CPU는 기계를 한 단위씩 읽어서 처리하는데 프로세스를 실행하기 위해 다음으로 실행할 기계어가 저장된 메모리 주소를 가리키는 값

* 프로세스 우선순위
<br>프로세스 상태를 설명할 때 이해를 돕기위해 대기 상태에서 기다리는 모든 프로세스가 한 줄로 서있다고 가정했다. 이는 대기 큐waiting queue가 하나라는 의미로, 모든 프로세스의 우선 순위가 같다고 본 것이다. 그러나 실제로는 프로세스의 중요도가 각각 다르다. 사용자 프로세스보다 중요도가 큰 커널 프로세스는 우선순위가 높고, 사용자 프로세스끼리도 우선순위가 다르다.
<br/>다양한 우선순위의 프로세스가 대기 상태로 들어오기 때문에 대기 상태의 큐도 우선순위별로 따로 운영된다. 다시 말해, 우선순위에 따라 프로세스 제어블록들이 여러 줄로 서 있다. CPU스케쥴러가 준비상태에 있는 프로세스 중 실행상태로 옮겨야 할 프로세스를 선택할 때는 프로세스 우선순위를 기준으로 삼는다. 높은 우선순위의 프로세스가 낮은 우선순위의 프로세스보다 먼저 실행되고 더 자주 실행된다. 

* 각종 레지스터 정보
<br/>프로세스가 실행되는 중에 사용하던 레지스터, 누산기(accumulator), 색인 레지스터(index register), 스택 포인터(stack pointer)와 같은 레지스터의 값이 저장된다. 이전 실행에서 사용한 레지스터의 값을 보관해야 다음에 실행할 수 있기 때문에 그 중간값을 보관한다.

* 프로세스의 부모와 자식 프로세스
<br/>최초로 생성되는 init 프로세스를 제외하고 모든 프로세스는 부모 프로세스를 복제해서 생성되고 이 계층관계는 트리를 형성합니다. 그래서 각 프로세스는 자식 프로세스와 부모프로세스에 대한 정보를 가지고 있습니다.

* 메모리 관리 정보
<br/>프로세스가 메모리의 어디에 있는지 나타내는 메모리 위치 정보, 메모리 보호를 위해 사용하는 경계 레지스터 값과 한계 레지스터 값 등이 저장된다. 그 외에 세그먼테이션 테이블(segmentation table), 페이지 테이블(page table)등의 정보도 보관한다.

* 할당된 자원 정보
<br/>프로세스를 실행하기 위해 사용하는 입출력 자원이나 오픈 파일 등에 대한 정보를 말한다. 어떤 프로세스가 하드디스크에 저장된 파일을 열어서 작업하거나, 음악을 출력하기 위해 사운드카드에 접근하고 있다면, 파일이나 사운드카드에 대한 정보가 필요한데, 이러한 정보를 프로세스 제어 블록에 저장한다.

* 계정 정보
<br/>계정번호, CPU 할당시간, CPU 사용시간 등


### 스레드(Thread)
