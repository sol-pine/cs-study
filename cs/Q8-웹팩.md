# 웹팩
> 오픈 소스 자바스크립트 `모듈` `번들러`  
> 여러개로 나누어져 있는 파일들을 하나의 자바스크립트 코드로 압축하고 최적화하는 라이브러리

![image](https://user-images.githubusercontent.com/80516736/227402609-fb0a000b-7e1b-4ae8-a8e0-6927eb353556.png)

## 모듈(module)
- 모듈 프로그래밍에서 개별적인 기능을 하는 작은 단위
- javascript 에서 보면 각각의 javascript 파일을 모듈이라고 할 수 있을 것 같다.
- 웹팩에서의 모듈은 javascript 파일뿐만 아니라 애플리케이션을 구성하는 HTML, CSS, Javascript, Images, Font 등 많은 파일들을 모듈이라고 한다.

## 번들러(bundler)
- 웹팩에서는 애플리케이션을 구성하는 모든 모듈을 병합하고 압축해서 만들어진 하나 이상의 파일을 번들 이라고 하며, 이러한 동작을 모듈 번들링이라고 한다.
- 웹팩 정의에 나오는 모듈 번들러란 모듈을 번들링하는 도구라고 할 수 있을 것 같다.

## Webpack을 사용하지 않는다면?
많은 파일들을 조각조각 받기 때문에 요청을 여러번 보냄, 네트워크 부하 증가  
같은 이름의 변수, 함수 충돌 가능성

## 웹팩의 필요성
- 여러 파일의 자바스크립트 코드를 압축하여 최적화 할 수 있기 때문에 로딩에 대한 네트워크 비용을 줄일 수 있다.
- 모듈 단위로 개발이 가능하여, 가독성과 유지보수가 쉽다.
- 최신 자바스크립트 문법을 지원하지 않는 브라우저에서 사용할 수 있는 코드로 쉽게 변환시켜 준다.

## 웹팩 구성요소

### entry
- 번들링을 시작하기 위한 최초 진입점
- 진입점으로 부터 의존적인 모듈을 전부 찾아냄
- 모듈간의 의존관계로 생기는 구조를 **디펜던시 그래프**라고 한다.
  * 웹팩은 특정 지점에서 출발해서, 애플리케이션에 필요한 모든 모듈을 포함하는 그래프를 재귀적으로 완성해 나간다.
  * 한 파일이 다른 파일을 필요로 하면 이를 **디펜던시**가 있다고 해석한다.
- 기본값은 ./src/index.js 이다.

### output
엔트리를 시작으로 의존되어 있는 모든 모듈을 하나로 묶어 하나의 결과물로 만들었다. 이 결과물이 위치하는 경로를 아웃풋이라고 한다.

### 로더 (Loader)
- 웹팩은 모든 파일을 모듈로 보지만 자바스크립트 밖에 읽지 못한다.
- HTML, CSS, Images, 폰트 등을 웹팩이 읽을 수 있게 변환해주는 역할

### plugin
- 로더가 할 수 없는 다른 작업을 수행
- 로더가 파일(모듈)을 해석하고 변환하는 과정에 필요하다면 클러그인은 결과물(번들)에 추가적인 처리를 하고 싶을때 필요하다.
- 번들된 자바스크립트를 난독화 한다거나 특정 텍스트를 추출하는 용도로 사용할 수 있다.

### Mode
- mode는 웹팩을 세팅함에 있어서 `development`, `production`, `none` 중 하나를 파라미터로 사용
- `production`은 최적화되어 빌드
- `development`는 빠르게 빌드
- `none`은 아무 기능 없이 웹팩으로 빌드

## 정리
웹팩은 entry로 설정된 시작점에서 의존성을 가진 모든 파일을 압축하여 output 지점에 하나의 자바스크립트 파일을 만들어 준다.  
이때, 자바스크립트가 아닌 파일은 loaders를 이용하여 자바스크립트에서 이용가능한 모듈로 만들어 주며,  
plugins를 이용하여 번들된 자바스크립트를 난독화하거나 특정 텍스트를 추출하는 역할을 한다.  
mode는 웹팩의 사용 목적에 따라 설정을 지정하는 역할을 한다.

## 참고
https://webpack.kr/concepts  
https://tecoble.techcourse.co.kr/post/2021-06-30-webpack-intro/  
https://tecoble.techcourse.co.kr/post/2021-07-10-webpack-exercise/  
https://medium.com/@woody_dev/js-webpack-1-%EC%9B%B9%ED%8C%A9%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-f29ebca31da4  
https://itchallenger.tistory.com/800
https://github.com/d-virusss/interview_frontend/blob/main/docs/Webpack%EC%9D%B4%EB%9E%80.md
